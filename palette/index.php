<?php
include("../_inc/_app.php");
$cd = new ColorDrop;
include("../_inc/_functions.php");
include("../_inc/header.php");

$paletteID = $_GET['id'];
if (!empty($_GET['c1'])) {
  $color1 = $_GET['c1'];
}
if (!empty($_GET['c2'])) {
  $color2 = $_GET['c2'];
}
if (!empty($_GET['c3'])) {
  $color3 = $_GET['c3'];
}
if (!empty($_GET['c4'])) {
  $color4 = $_GET['c4'];
}
$categories = $cd->DatabasePrepareQueryReturnFirstField("SELECT categories FROM palettes WHERE id = ?", array($paletteID));
$categories_array = explode(",", $categories[0]);
$colorNameArr = array();
$colorIDs = array();
foreach ($cd->DatabasePrepareQuery("SELECT * FROM colors WHERE palette = ?", array($paletteID)) as $colorName) {
    array_push($colorNameArr, $colorName['name']);
}
foreach ($cd->DatabasePrepareQuery("SELECT palette FROM colors WHERE name = ? OR name = ? OR name = ? OR name = ?", array($colorNameArr[0], $colorNameArr[1], $colorNameArr[2], $colorNameArr[3])) as $colorID) {
    array_push($colorIDs, $colorID['palette']);
}
$colorIDs = array_unique($colorIDs);
?>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css'>

<body id="palettes">

<?php include("../_inc/navigation.php"); ?>

<main>
    <section class="container">
        <div class="row between-medium">
            <!-- Colors -->
            <div class="tiny-12 medium-7 wide-8">
                <div class="row">
                    <div class="tiny-7 medium-8">
                        <h2 style="margin-top:0;">Color presets</h2>
                        <p>Start from the recommended preset or set individual colors</p>
                    </div>
                    <div class="tiny-5 medium-4 end-tiny">
                        
                        <?php
                        if ($categories_array[0] != "") {
                            echo "<h2  style='margin-top:0;'>";
                            foreach ($categories_array as $category) {
                                echo "<span class='tag small static'>". $category ."</span> ";
                            }
                            echo "</h2>";
                        }
                        ?>
                        
                        <button id="like-<?php echo $paletteID;?>" class="likes primary-like" onclick="like(this)">
                            <svg class="heart" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                <title>heart</title>
                                <path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path>
                            </svg>
                            <span class="like-count">
                                <?php echo $cd->DatabasePrepareQueryReturnFirstField( "SELECT likes FROM likes WHERE palette = ?", array($paletteID))[0];?>
                            </span>
                        </button>
                        
                        <p class="date" style="">
                            <?php echo $cd->DatabasePrepareQueryReturnFirstField("SELECT created FROM palettes WHERE id = ?", array($paletteID))[0];?>
                        </p>
                    </div>
                    <div class="tiny-12">
                        <hr>
                    </div>
                    
                    <?php
                    $hexColors = array();
                    $i = 1;
                    foreach ($cd->DatabasePrepareQuery('SELECT * FROM colors WHERE palette = ? ', array($paletteID)) as $color) {
                        array_push($hexColors, $color['hex']);
                        $hsl = explode(",", $color['hsl']);
                        ?>
                        <div id="<?php echo $color['id']; ?>" class="tiny-12 small-6">
                            <div class="color-single">
                                
                                <div class="row">
                                    <div class="tiny-12">
                                        <h3><?php echo $color['name']; ?></h3>
                                        <button id="colorpick<?php echo $i; ?>" class="preview" data-jscolor="{onInput: 'update(this, <?php echo $i; ?>)', onChange: 'update(this, <?php echo $i; ?>)', value: '<?php echo $color['hex']; ?>'}" ></button>
                                        <svg class="edit-indicator" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="none" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                           <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                           <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>
                                           <path d="M13.5 6.5l4 4"></path>
                                        </svg>
                                    </div>
                                </div>
                               
                                <div class="row">
                                    <div class="tiny-12">
                                        <br>
                                        <strong>HEX:</strong>
                                        <div class="input-group">
                                            <input class="input" type="text" id="hex-input-<?php echo $i; ?>" value="<?php echo $color['hex']; ?>">
                                            <button id="hex-copy" class="copy" onclick="copyToClipboard('hex-input-<?php echo $i; ?>', this)">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                                   <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path>
                                                   <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        
                                        <strong>RGB:</strong>
                                        <div class="input-group">
                                            <input class="input" type="text" id="rgb-input-<?php echo $i; ?>" value="<?php echo $color['rgb']; ?>">
                                            <button id="rgb-copy" class="copy" onclick="copyToClipboard('rgb-input-<?php echo $i; ?>', this)">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                                   <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path>
                                                   <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        
                                        <strong>HSL:</strong>
                                        <div class="input-group">
                                            <input class="input" type="text" id="hsl-input-<?php echo $i; ?>" value="<?php echo $color['hsl']; ?>">
                                            <button id="hsl-copy" class="copy" onclick="copyToClipboard('hsl-input-<?php echo $i; ?>', this)">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                                   <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path>
                                                   <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                            <?php $i++; ?>
                        </div>
                    <?php } ?>
                </div>
            </div>
            
            <!-- Live UI Demo Kit -->
            <div class="tiny-12 medium-5 large-4 wide-3 center-tiny">
                <style>
                :root {
                    --color-1: <?php echo $hexColors[0]; ?>;
                    --color-2: <?php echo $hexColors[1]; ?>;
                    --color-3: <?php echo $hexColors[2]; ?>;
                    --color-4: <?php echo $hexColors[3]; ?>;
                }
                .checkbox-input:checked ~ label {
                    background: var(--color-2) !important;
                }
                .checkbox-input:checked ~ label:after {
                    background: var(--color-2) !important;
                    filter: grayscale(30%);
                }
                .range-slider__range:active::-moz-range-thumb,
                .range-slider__range::-moz-range-thumb:hover {
                    background: var(--color-3);                              
                }
                .range-slider__range::-moz-range-thumb,
                .range-slider__range::-webkit-slider-thumb,
                .range-slider__value {
                    background: var(--color-2);
                }
                .range-slider__value {
                    background: var(--color-2);
                }
                .range-slider__range:focus::-webkit-slider-thumb {
                  box-shadow: 0 0 0 3px #fff, 0 0 0 6px var(--color-3);
                }
                .range-slider__value:after {
                    border-right: 7px solid var(--color-2);
                }
                </style>
                <h2 style="margin-top:0;">Live UI Kit Demo</h2>
                <p>Change the colors and see a live preview</p>
                
                <div class="iphone-x">
                  <i>Speaker</i>
                  <b>Camera</b>
                  <div class="ui-exmaple">
                    <div class="header" style="border-color:var(--color-1)">
                     
                          <div class="header-wrap">
                              <svg class="avatar" style="enable-background:new 0 0 5984.956 5984.956;" version="1.1" viewBox="0 0 5984.956 5984.956" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <g id="_x33_0-Scientist">
                                  <g>
                                    <g>
                                      <circle cx="2992.478" cy="2992.478" r="2992.478" style="fill:var(--color-1);" />
                                    </g>
                                    <g>
                                      <path d="M3913.349,2709.173c-20.072-60.246-80.455-70.826-122.249-42.319     c-14.918-0.283-30.181,3.634-44.49,12.927c-55.216,35.86-94.336,84.029-137.254,133.144     c-40.904,46.812-82.267,93.302-123.752,139.602c-85.128,95.013-174.717,185.501-266.884,273.652     c-90.129,86.2-183.122,169.2-279.872,247.92c-84.199,68.507-199.427,165.203-198.602,284.96     c-0.993,1.692-1.954,3.419-2.754,5.307c-23.793,56.168-18.263,109.41-15.113,169.032c3.09,58.49,8.691,116.765,10.712,175.338     c3.96,114.75-0.393,229.426-9.571,343.82c-18.26,227.553-67.981,451.408-144.013,666.642     c-19.576,55.413,17.556,118.346,69.237,140.251c22.565,19.293,52.334,31.167,84.417,34.555     c336.959,35.58,673.921,71.141,1010.893,106.616c72.671,7.65,128.632-66.442,131.306-131.306     c13.743-333.249,22.212-666.672,31.942-1000.06c9.63-329.969,21.236-660.336,22.574-990.442     c0.377-92.956,0.741-185.909,1.302-278.862C3931.76,2904.048,3944.052,2801.316,3913.349,2709.173z" style="fill:#C6A875;" />
                                    </g>
                                    <g>
                                      <path d="M4823.146,5359.621c-21.361-26.771-43.516-52.772-65.077-78.105     c-60.119-70.63-126.628-135.249-197.706-194.806c-69.588-58.311-142.496-111.741-220.3-158.586     c-74.289-44.729-157.821-99.441-245.457-111.216c-21.935-20.443-53.458-31.458-84.825-23.888     c-89.733,21.656-169.042,88.563-247,135.644c-80.613,48.681-160.875,98.176-245.137,140.39     c-152.142,76.213-318.612,127.679-490.037,123.96c-150.583-3.268-298.75-47.824-428.794-123.205     c-67.123-38.907-128.286-85.041-183.47-139.612c-57.327-56.691,80.791-95.886,23.84-151.193     c-27.437-26.643,37.044-83.319,3.896-77.93c-115.782-23.43-536.201,24.032-638.158,46.619     c-150.016,33.232-296.756,86.447-434.106,155.303c-149.463,74.929-287.811,171.993-410.63,285.748     c477.839,442.376,1100.21,730.766,1788.442,786.28c72.097,4.4,144.773,6.654,217.977,6.654     c191.382,0,379.16-15.369,562.263-44.736C4010.246,5849.818,4451.469,5647.482,4823.146,5359.621z" style="fill:#CFD8DC;" />
                                    </g>
                                    <g>
                                      <path d="M4823.146,5359.621c-21.361-26.771-43.516-52.772-65.077-78.105     c-60.119-70.63-126.628-135.249-197.706-194.806c-69.588-58.311-142.496-111.741-220.3-158.586     c-74.289-44.729-157.821-99.441-245.457-111.216c-21.935-20.443-53.458-31.458-84.825-23.888     c-89.733,21.656-169.042,88.563-247,135.644c-80.613,48.681-160.875,98.176-245.137,140.39     c-152.142,76.213-318.612,127.679-490.037,123.96c-150.583-3.268-298.75-47.824-428.794-123.205     c-67.123-38.907-128.286-85.041-183.47-139.612c-57.327-56.691,80.791-95.886,23.84-151.193     c-27.437-26.643,37.044-190.471,3.896-185.082c-130.044,68.675-536.201,131.184-638.158,153.771     c-150.016,33.232-296.756,86.447-434.106,155.303c-149.463,74.929-287.811,171.993-410.63,285.748     c477.839,442.376,1100.21,730.766,1788.442,786.28c72.097,4.4,144.773,6.654,217.977,6.654     c191.382,0,379.16-15.369,562.263-44.736C4010.246,5849.818,4451.469,5647.482,4823.146,5359.621z" style="fill:#CFD8DC;" />
                                    </g>
                                    <g>
                                      <path d="M3198.298,5267.233c-2.882-19.971-8.893-37.685-17.38-52.912     c3.796-20.58-1.153-41.613-20.137-54.021c-3.516-1.76-6.918-3.789-10.245-6.023c-5.765-3.173-11.575-6.36-17.46-9.558     c-3.824-0.817-8.773-1.196-18.093-2.568c-28.47-4.191-57.089-7.536-85.559-11.816c-61.312-9.213-123.326-12.891-185.009-18.947     c-18.344-1.801-35.936-6.42-51.974-13.523c-8.898,5.756-17.682,12.284-26.318,19.856     c-67.351,59.068-82.465,168.111-65.131,264.394c11.632,64.665,31.204,136.72,62.071,194.576     c-44.805,58.193-79.417,127.04-109.308,199.64c-2.215,5.37-33.75,128.422-48.464,183.737     c126.757,16.376,255.973,24.889,387.188,24.889c55.821,0,111.254-1.658,166.322-4.675     c-24.075-101.186-57.425-239.517-65.781-260.763c-12.574-31.938-28.002-66.708-46.877-97.263     c44.611-56.542,76.146-134.075,109.742-199.137C3180.404,5375.629,3206.928,5326.954,3198.298,5267.233z" style="fill:var(--color-2);" />
                                    </g>
                                    <g>
                                      <path d="M3007.489,5100.999c-67.756-53.542-135.695-106.73-195.808-168.732     c-9.983-10.298-20.445-20.627-31.25-30.987c-46.866-44.915-80.541-97.082-83.11-161.241c-2.18-23.138,0.866-50.615,1.461-62.831     c2.551-52.382,8.767-94.976,14.612-144.656c-20.022,1.157-66.98,19.136-96.3,23.11c-73.161,9.915-140.78,20.702-200.454,59.394     c-10.023,4.948-28.938,21.525-37.117,29.697c-50.331,40.525-84.4,79.314-96.717,152.897     c-27.02,161.513,40.137,343.641,93.595,494.01c34.115,95.965,82.219,229.382,172.795,278.213     c60.73-74.438,138.777-139.178,209.786-199.777c50.936-43.468,102.921-86.212,149.376-134.58     c36.872-38.389,80.119-75.263,115.478-115.294C3020.155,5113.357,3014.864,5106.827,3007.489,5100.999z" style="fill:#FFFFFF;" />
                                    </g>
                                    <g>
                                      <path d="M3997.956,4719.095c-30.359-2.31-59.788-3.286-87.91,2.583     c-73.487,7.349-146.225,31.258-216.167,52.031c-88.35,26.24-175.415,56.48-261.247,90.027     c-90.689,35.444-180.209,72.607-267.794,115.283c-60.205,29.334-130.512,59.259-169.878,114.627     c11.062,9.779,20.336,21.521,27.728,34.536c59.737,50.675,103.549,117.837,138.891,198.529     c50.633,115.602,112.322,225.559,168.457,338.505c55.667-17.666,105.718-66.206,151.026-105.521     c69.103-59.958,136.711-121.574,201.916-185.762c151.265-148.915,288.147-311.968,413.489-483.168     C4152.012,4814.9,4075.095,4724.965,3997.956,4719.095z" style="fill:#ECEFF1;" />
                                    </g>
                                    <g>
                                      <path d="M2499.687,5868.438c-16.798-56.844-31.421-113.696-44.754-171.479     c-31.364-135.935-65.051-271.891-90.016-409.165c-26.107-143.529-44.235-288.38-63.47-432.947     c-11.027-82.894,43.732-173.255,150.398-258.003c-29.343-2.408-255.745,10.068-283.907,10.896     c-81.346,2.395-163.154,11.697-243.427,24.817c-163.149,26.667-319.751,81.605-469.316,151.107     c-148.109,68.828-283.382,157.543-409.493,261.101c-37.597,30.872-82.722,66.59-125.427,106.481     c430.469,413.316,984.293,699.017,1600.747,796.59C2515.229,5921.065,2507.443,5894.675,2499.687,5868.438z" style="fill:var(--color-3);" />
                                    </g>
                                    <g>
                                      <path d="M4031.017,4785.931c-195.883,152.142-366.377,349.737-523.367,540.51     c-159.062,193.291-307.194,395.403-442.232,606.195c-9.943,15.52-22.14,33.007-35.142,51.842     c681.197-8.444,1307.611-244.29,1806.641-635.413c-36.124-50.4-74.782-98.929-117.345-144.236     c-30.205-32.151-71.603-78.886-117.795-117.361c-57.95-66.675-121.357-128.765-191.19-182.916     c-69.828-54.146-262.804-152.846-352.426-166.462L4031.017,4785.931z" style="fill:var(--color-3);" />
                                    </g>
                                    <g>
                                      <path d="M2585.473,5946.179c-3.533-73.235-6.558-142.176-18.202-214.921     c-26.986-168.654-72.556-331.955-115.735-496.937c-54.314-207.563-55.216-370.083,0.308-637.477     c-59.337,61.02-293.381,154.382-352.199,216.105c-65.519,68.759-135.838,132.611-209.05,193.065     c-62.796,51.857-4.075,134.984,59.115,142.708c61.158,7.476,143.2,13.518,184.73,65.637     c29.098,36.521,6.798,65.147-21.358,94.304c-38.915,40.292-81.677,75.668-112.847,122.965     c-16.866,25.597-31.518,56.82-35.251,87.185c-6.216,50.543,23.247,79.845,53.829,114.995     c65.947,75.786,124.376,156.698,174.501,243.055c127.704,35.305,258.827,62.322,392.764,80.524     C2585.867,5953.625,2585.65,5949.852,2585.473,5946.179z" style="fill:var(--color-4);" />
                                    </g>
                                    <g>
                                      <path d="M4303.206,5111.762c-16.335-63.161-51.308-122.884-85.292-178.849     c-61.694-101.598-94.658-136.293-159.754-194.823c0,0,0.588-0.983,0,0c-74.56,28.87-119.304,79.027-177.9,125.97     c-73.566,58.939-142.019,123.913-208.428,190.76c-136.808,137.713-259.769,293.115-368.803,453.499     c-102.95,151.429-194.204,310.764-272.788,476.158c235.659-2.919,464.732-33.033,684.262-87.428     c82.002-57.64,169.176-107.851,261.304-148.696c53.635-23.778,60.439-97.037,37.402-142.649     c-33.538-66.427-67.083-132.854-100.621-199.28c117.105-45.235,234.21-90.471,351.315-135.706     c31.016-11.98,52.728-31.001,64.634-57.34C4321.487,5179.25,4311.933,5145.496,4303.206,5111.762z" style="fill:var(--color-4);" />
                                    </g>
                                    <g>
                                      <path d="M3931.177,2999.949c0.348-57.01,4.769-116.424,1.901-174.602     c-25.291-62.11-95.353-72.701-144.222-42.332c-17.791-0.308-35.996,3.949-53.062,14.046     c-65.853,38.966-112.51,91.307-163.697,144.677c-48.784,50.866-98.118,101.384-147.593,151.694     c-101.531,103.243-208.38,201.568-318.301,297.355c-107.493,93.666-218.402,183.855-333.792,269.393     c-3.519,2.607-7.152,5.322-10.753,8.004c-13.524,28.588-21.632,58.901-21.413,90.874c-0.993,1.692-1.955,3.42-2.754,5.308     c-23.792,56.167-18.265,109.409-15.114,169.032c2.046,38.714,5.131,77.339,7.611,116.014     c156.451,93.177,313.738,185.115,476.356,269.237c163.605,84.633,335.253,154.063,501.196,234.535     c62.865,30.484,125.744,60.969,188.956,90.844c3.636-124.923,7.16-249.85,10.805-374.773     c9.629-329.969,21.236-660.336,22.574-990.441C3930.253,3185.856,3930.618,3092.902,3931.177,2999.949z" style="fill:#B29262;" />
                                    </g>
                                    <g>
                                      <path d="M4299.955,2324.039c-27.491-119.859-140.029-203.81-257.501-223.051     c-79.552-13.032-157.547-0.937-231.976,24.591c12.151-194.359,29.179-388.348,45.198-582.466     c3.033-36.764-29.643-78.08-65.347-85.832c-338.395-73.469-681.767-119.991-1028.05-131.53     c-171.934-5.729-344.156-3.294-515.853,7.421c-169.202,10.562-354.191,19.069-513.578,77.679     c-50.277,18.491-62.271,74.191-39.328,109.905c-81.742,97.755-131.433,225.358-177.277,341.316     c-57.053,144.31-101.674,292.579-134.715,444.192c-65.729,301.6-114.568,642.839,6.061,937.157     c19.875,48.489,43.296,94.496,69.829,138.056c116.914,243.028,322.927,419.234,572.138,523.186     c287.494,119.92,606.259,124.901,910.875,84.008c147.205-19.762,290.135-50.177,425.454-113.31     c131.56-61.381,242.466-161.571,322.13-282.491c167.763-254.649,181.532-567.616,172.897-865.066     c97.801-0.46,196.49-13.972,279.858-66.378C4253.399,2590.626,4330.909,2459.009,4299.955,2324.039z M4299.955,2324.039     c-27.491-119.859-129.195-227.013-246.667-246.254c-79.552-13.033-168.381,22.266-242.811,47.793" style="fill:#C6A875;" />
                                    </g>
                                    <g>
                                      <path d="M4550.43,1568.709c-110.844-239.999-302.515-434.071-529.669-566.37     c-270.131-196.111-627.268-270.705-955.762-269.714c-482.173,1.454-963.88,178.754-1306.02,525.796     c-162.877,165.208-312.406,378.726-366.689,608.588c-5.546,8.645-9.684,17.948-11.735,27.615     c-8.631,40.713-4.236,74.938,9.174,103.864c11.791,32.089,33.9,59.525,65.115,72.435     c81.322,54.792,207.709,73.219,290.904,79.089c193.576,13.658,388.232,24.993,582.357,20.716     c181.488-3.999,364.55-21.43,538.466-75.747c69.897-21.831,143.953-45.847,209.066-81.958     c23.136-6.798,46.95-14.177,69.77-23.455c77.216,58.675,148.036,125.565,211.438,199.025     c41.767,48.394,76.971,102.486,113.472,155.276c6.454,22.592,11.903,45.455,15.682,68.509     c8.569,52.275,7.735,105.653,20.36,157.382c1.628,6.676,4.425,12.675,8.039,18.012c10.431,68.672,41.233,129.74,109.443,166.908     c23.18,12.632,45.729,0.153,54.912-22.339c53.517-131.063,68.694-274.944,90.077-414.376     c5.637-36.765,10.322-73.632,14.487-110.562c6.501-4.119,12.844-9.539,18.873-16.465     c100.794-115.773,304.907-136.059,404.052-4.844c45.204,59.825,64.888,143.74,47.888,216.944     c-20.46,88.107-90.735,144.512-158.541,198.443l-0.855,0.684c-11.512,9.2-24.803,15.69-38.732,20.502     c-9.392,3.245-18.377,7.822-28.112,10.06c-120.972,27.818-203.853,114.32-246.497,230.052c-0.012,0.065-0.023,0.13-0.035,0.195     c-0.678,293.354-11.493,586.489-20.36,879.674c55.307,16.878,126.352-6.723,149.051-72.948     c63.363-184.873,166.187-360.623,284.541-515.581c119.414-156.346,259.382-299.849,348.409-477.197     C4716.917,2330.449,4711.958,1918.453,4550.43,1568.709z" style="fill:#37474F;" />
                                    </g>
                                    <g>
                                      <path d="M4550.429,1568.71c-110.844-240-302.514-434.072-529.669-566.371     C3750.632,806.228,3393.49,731.634,3065,732.625c-294.375,0.888-588.51,67.441-850.881,198.024     c5.525,5.554,11.096,11.012,17.077,16.161c1.416,0.781,3.048,1.702,5.08,2.88c15.103,8.739,30.017,17.411,45.764,24.897     c0.217-0.604,33.841,12.466,41.358,14.813c19.72,6.156,39.726,11.4,59.862,16.009c22.368,5.123,44.891,9.021,67.477,13.026     c3.099,0.549,12.882,1.999,16.815,2.616c5.537,0.685,11.073,1.378,16.609,2.002c33.47,3.774,67.094,6.665,100.729,8.475     c106.768,5.746,214.062-0.203,320.864-2.129c234.866-4.234,483.225,6.365,691.111,128.64     c197.338,116.072,347.125,310.75,446.399,513.826c89.828,183.744,159.422,385.24,201.442,587.024     c8.898,25.611,14.092,52.625,15.171,79.568c39.646,230.766,51.774,470.135,24.377,703.3     c94.759-115.719,191.345-230.583,258.741-364.836C4716.917,2330.449,4711.957,1918.452,4550.429,1568.71z" style="fill:#263238;" />
                                    </g>
                                    <g>
                                      <path d="M1973.343,2464.101c-14.02-16.553-40.557-21.542-60.611-16.02     c-22.889,6.303-34.979,22.691-43.509,43.51c-22.003,53.7,9.197,180.699,87.721,159.119     C2035.436,2629.141,2012.41,2510.229,1973.343,2464.101z" style="fill:#5A4A42;" />
                                    </g>
                                    <g>
                                      <path d="M2971.116,2531.759c14.02-16.553,40.557-21.542,60.611-16.02     c22.889,6.303,34.979,22.691,43.509,43.51c22.003,53.7-9.197,180.699-87.721,159.119     C2909.023,2696.798,2932.049,2577.886,2971.116,2531.759z" style="fill:#5A4A42;" />
                                    </g>
                                    <g>
                                      <path d="M2588.736,3323.245c-2.858-10.699-13.98-16.185-24.383-13.844     c-76.908,17.32-122.453,87.054-208.589,80.192c-84.556-6.737-124.838-79.623-195.854-112.489     c-13.114-6.069-25.645-0.939-30.781,12.523c-45.738,119.882,123.788,208.527,219.699,213.676     C2440.347,3508.213,2620.893,3443.63,2588.736,3323.245z" style="fill:#5A4A42;" />
                                    </g>
                                    <g>
                                      <path d="M2510.667,2978.646c-34.355-34.942-79.471-25.183-122.261-40.011     c-56.906-19.72-29.487-69.477-14.112-112.091l55.899-154.947c17.472-48.426,41.278-100.094,27.58-152.125     c-5.262-19.989-31.059-31.877-49.084-19.97c-59.023,38.992-78.014,122.655-103.243,185.027     c-27.586,68.202-76.661,149.378-74.303,224.589c2.001,63.91,48.579,114.573,105.797,137.398     c57.376,22.889,141.101,23.583,178.155-33.555C2521.931,3002.419,2519.184,2987.308,2510.667,2978.646z" style="fill:#5A4A42;" />
                                    </g>
                                    <g>
                                      <path d="M1967.125,2198.74c-69.797-37.88-157.483-34.333-234.07-24.409     c-54.972,7.122-190.168,27.59-188.165,106.389c1.967,77.394,120.285,44.551,163.35,35.429     c81.666-17.299,166.598-9.179,247.164-27.729C1996.225,2279.021,2003.597,2218.535,1967.125,2198.74z" style="fill:#5A4A42;" />
                                    </g>
                                    <g>
                                      <path d="M3316.535,2349.342c-16.657-61.999-95.009-95.034-150.594-113.077     c-60.593-19.67-144.583-44.136-206.868-21.704c-35.339,12.726-51.852,68.526-11.496,87.965     c54.743,26.367,120.715,27.068,178.616,46.849c51.805,17.7,110.853,52.921,166.608,41.764     C3310.891,2387.52,3321.03,2366.074,3316.535,2349.342z" style="fill:#5A4A42;" />
                                    </g>
                                    <g>
                                      <path d="M3431.008,3046.817c-6.055-144.845-178.38-172.47-291.159-159.459     c-44.506,5.135-105.03,18.344-158.324,42.576c-9.961,3.601-19.873,7.379-29.688,11.489     c-56.629,23.72-127.237,59.302-131.04,129.34c-3.959,72.912,51.689,110.472,120.959,129.425     c65.977,31.811,158.438,29.142,223.169,16.714C3272.66,3211.262,3436.775,3184.753,3431.008,3046.817z" style="fill:#C19259;" />
                                    </g>
                                    <g>
                                      <path d="M2008.547,2885.272c-68.743-44.608-134.832-85.676-212.661-113.117     c-46.42-16.369-104.333-33.784-152.535-19.527c-45.701-1.18-89.371,9.231-119.138,50.181     c-45.586,62.714-10.151,157.64,74.288,153.583c3.341-0.16,6.814-0.663,10.306-1.324c60.598,59.453,166.327,95.639,232.236,75.763     c5.592-1.687,10.965-3.87,16.226-6.265c45.274,2.803,90.949-0.578,134.445-10.505     C2053.794,2999.89,2056.835,2916.607,2008.547,2885.272z" style="fill:#C19259;" />
                                    </g>
                                    <g>
                                      <path d="M3022.66,3548.879c-5.605-31.004-12.157-65.319-21.564-99.363     c-25.959-110.612-84.862-211.253-177.053-273.979c-97.413-66.278-214.084-92.657-329.3-63.079     c-51.278,13.163-101.979,36.211-139.816,73.919c-3.008-2.962-5.993-5.962-9.167-8.69     c-24.195-46.469-72.356-80.486-124.405-99.331c-85.079-30.802-176.134-15.525-253.439,29.001     c-71.844,41.382-128.218,102.281-167.588,173.241c-13.145,23.692-28.549,46.021-43.672,68.501     c-36.633,54.456-56.865,123.469-72.624,184.337c-24.954,96.342-31.781,201.111-20.337,299.968     c21.461,185.438,110.878,370.465,261.458,485.02c150.135,114.215,344.699,164.105,530.605,127.937     c193.217-37.592,351.72-158.583,456.633-322.826C3020.246,3954.686,3058.288,3745.829,3022.66,3548.879z M2675.153,3556.49     c-0.246,5.736-0.651,11.475-1.256,17.214c-0.177,2.098-0.342,4.229-0.525,6.287c-0.074,0.069-0.137,0.15-0.211,0.22     c-0.257,2.013-0.383,4.025-0.679,6.039c-8.002,54.476-30.205,118.349-76.477,152.153c-39.035,28.514-93.869,34.035-133.686,4.499     c-46.244-34.302-62.202-118-134.302-87.773c-18.071,7.575-34.177,17.527-50.085,27.176c-8.213,7.349-16.632,12.018-25.194,14.529     c-21.427,11.361-44.109,19.74-72.157,18.811c-40.468-1.341-72.459-23.362-92.282-56.111     c-14.749-17.207-26.963-39.426-35.616-65.694c-30.981-94.052-8.522-235.664,75.952-296.006     c89.211-63.726,224.866-53.143,324.757-25.368c69.183,19.238,165.283,58.11,195.865,129.599     C2675.963,3443.061,2678.361,3503.682,2675.153,3556.49z" style="fill:#455A64;" />
                                    </g>
                                  </g>
                                </g>
                                <g id="Layer_1" />
                              </svg>
                              <div class="tag">
                                  <h3>Norman M. Pitts</h3>
                                  <p>Professional student. Subtly charming gamer. Amateur music aficionado.</p>
                              </div>
                          </div>
                          <div class="button-grp">
                              <a class="btn" style="background-color:var(--color-1)"><span>View Profile</span></a>
                              <a class="btn" style="background-color:var(--color-2)"><span>Change status</span></a>
                          </div>
                      </div>
                      
                      <div class="info-wrap">
                          <div class="left">
                              <h4 class="subheader" style="color:var(--color-3);">First Name:</h4>
                              <input type="text" class="input" value="Norman">
                              
                              <h4 class="subheader" style="color:var(--color-3);">Password:</h4>
                              <input type="password" class="input" value="" placeholder="********">
                          </div>
                          <div class="right">
                              <h4 class="subheader" style="color:var(--color-3);">Last Name:</h4>
                              <input type="text" class="input" value="M. Pitts">
                              
                              <!-- <h4 class="subheader" style="color:var(--color-3);">Confirm Password:</h4>
                              <input type="password" class="input" value="" placeholder="********"> -->
                          </div>
                      </div>
                      <br>
                      <div class="toggle-wrap">
                          <div class="toggle-item">
                              <p>Push Notifications</p>
                              <div class="checkbox">
                                  <input type="checkbox" id="checked" class="checkbox-input" checked/>
                                  <label for="checked" class="checkbox-label"></label>
                              </div>
                          </div>
                          
                          <div class="toggle-item">
                              <p>Track data and history</p>
                              <div class="checkbox">
                                  <input type="checkbox" id="unchecked" class="checkbox-input"/>
                                  <label for="unchecked" class="checkbox-label"></label>    
                              </div>
                          </div>
                      </div>
                      
                      <div class="toggle-wrap">
                          <p style="margin: 0 1rem;text-align:left;">Cups of coffee:</p>
                          <div class="range-slider">
                            <input class="range-slider__range" type="range" value="32" min="0" max="100">
                            <span class="range-slider__value">0</span>
                          </div>
                      </div>
                     
                     <hr>
                     
                      <div class="social-wrap">
                          <a href="#0" class="social" style="background:var(--color-1);">
                             <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">
                                 <title>envelop</title>
                                 <path d="M29 4h-26c-1.65 0-3 1.35-3 3v20c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-20c0-1.65-1.35-3-3-3zM12.461 17.199l-8.461 6.59v-15.676l8.461 9.086zM5.512 8h20.976l-10.488 7.875-10.488-7.875zM12.79 17.553l3.21 3.447 3.21-3.447 6.58 8.447h-19.579l6.58-8.447zM19.539 17.199l8.461-9.086v15.676l-8.461-6.59z"></path>
                             </svg>
                          </a>
                          <a href="#0" class="social" style="background:var(--color-2);">
                              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">
                                  <title>location</title>
                                  <path d="M16 0c-5.523 0-10 4.477-10 10 0 10 10 22 10 22s10-12 10-22c0-5.523-4.477-10-10-10zM16 16.125c-3.383 0-6.125-2.742-6.125-6.125s2.742-6.125 6.125-6.125 6.125 2.742 6.125 6.125-2.742 6.125-6.125 6.125zM12.125 10c0-2.14 1.735-3.875 3.875-3.875s3.875 1.735 3.875 3.875c0 2.14-1.735 3.875-3.875 3.875s-3.875-1.735-3.875-3.875z"></path>
                              </svg>
                          </a>
                          <a href="#0" class="social" style="background:var(--color-3);">
                              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">
                                  <title>pencil</title>
                                  <path d="M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z"></path>
                              </svg>  
                          </a>
                          <a href="#0" class="social" style="background:var(--color-4);">
                              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32">
                                  <title>unlocked</title>
                                  <path d="M24 2c3.308 0 6 2.692 6 6v6h-4v-6c0-1.103-0.897-2-2-2h-4c-1.103 0-2 0.897-2 2v6h0.5c0.825 0 1.5 0.675 1.5 1.5v15c0 0.825-0.675 1.5-1.5 1.5h-17c-0.825 0-1.5-0.675-1.5-1.5v-15c0-0.825 0.675-1.5 1.5-1.5h12.5v-6c0-3.308 2.692-6 6-6h4z"></path>
                              </svg>  
                          </a>
                      </div>
                      
                      <div class="help-wrap">
                          <p>Need help? <a style="color:var(--color-1);"href="#0">Contact support</a></p>
                      </div>
                  </div>
                </div>
                
                <div class="social">
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//colordrop.io/palette/?id=<?php echo $paletteID; ?>" target="_blank" class="icon facebook">
                        <div class="tooltip">Facebook</div>
                        <span><i class="fab fa-facebook-f"></i></span>
                    </a>
                    <a href="https://twitter.com/intent/tweet?text=Check%20out%20this%20color%20palette%20on%20https://colordrop.io/palette/?id=<?php echo $paletteID; ?>" target="_blank" class="icon twitter">
                        <div class="tooltip">Twitter</div>
                        <span><i class="fab fa-twitter"></i></span>
                    </a>
                    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A//colordrop.io/palette/?id=<?php echo $paletteID; ?>" target="_blank" class="icon linkedin">
                        <div class="tooltip">LinkedIn</div>
                        <span><i class="fab fa-linkedin"></i></span>
                    </a>
                    <a href="http://pinterest.com/pin/create/button/?url=https%3A//colordrop.io/palette/?id=<?php echo $paletteID; ?>&media=&description=Check%20awesome%20color%20palette%20on%20Colodrop.io" target="_blank" class="icon pinterest">
                        <div class="tooltip">Pinterest</div>
                        <span><i class="fab fa-pinterest"></i></span>
                    </a>
                </div>
            </div>

            <div class="tiny-12">
                <h2>Description</h2>
                <p style="line-height:1.5"><?php echo $cd->DatabasePrepareQueryReturnFirstField("SELECT description FROM palettes WHERE id = ?", array($paletteID))[0];?></p><br>
            </div>
        </div>
    </section>
    
    <section class="container">
        <!-- Similar Colors -->
        <div class="row">
            <div class="tiny center-tiny">
                <br><br><hr><br><br>
                <?php 
                $categoryList = "";
                $tags = "";
                foreach ($categories_array as $category) {
                    $tags .= "<span class='tag'>". $category ."</span> ";
                    $categoryList .= $category.",";
                }
                $categoryList = rtrim($categoryList, ',');
                $palettes = $cd->DatabasePrepareQuery('SELECT * FROM palettes WHERE categories = ?', array($categoryList));
                $morePalettes = $cd->DatabasePrepareQuery('SELECT count(id) as count FROM palettes WHERE categories = ?', array($categoryList));
                foreach ($morePalettes as $palette) {
                    $showMorePalettes = $palette['count'];
                }
                if ($showMorePalettes > 1) {
                    echo "<h2>Other color palettes tagged with ".$tags."</h2>"; 
                }
                ?>
            </div>
        </div>
        <div class="row"> 
        <?php foreach ($palettes as $palette) { ?>
            <?php if ($palette['id'] != $paletteID) { ?>
                <div id="<?php echo $palette['id'];?>" class="tiny-6 small-4 wide-3">
                    <div class="palette">
                        <div class="colors">
                            <?php foreach ($cd->DatabasePrepareQuery('SELECT * FROM colors WHERE palette = ?', array($palette['id'])) as $color) { ?>
                                <div onclick="copy('<?php echo $color['hex']; ?>', this)" id="<?php echo $color['id']; ?>" class="color" style="background-color: <?php echo $color['hex']; ?>">
                                    <span class="hex"><?php echo $color['hex']; ?></span>
                                </div>
                            <?php } ?>
                        </div>
                        <div class="footer">
                            <div class="left">
                                <button id="like-<?php echo $palette['id'];?>" class="likes" onclick="like(this)">
                                    <svg class="heart" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                        <title>heart</title>
                                        <path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path>
                                    </svg>
                                    <span class="like-count">
                                        <?php echo $cd->DatabasePrepareQueryReturnFirstField( "SELECT likes FROM likes WHERE palette = ?", array($palette['id']))[0];?>
                                    </span>
                                </button>
                                <a class="view" href="/palette/?id=<?php echo $palette['id'];?>">
                                    <svg class="eye" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                                        <title>eye</title>
                                        <path d="M16 6c-6.979 0-13.028 4.064-16 10 2.972 5.936 9.021 10 16 10s13.027-4.064 16-10c-2.972-5.936-9.021-10-16-10zM23.889 11.303c1.88 1.199 3.473 2.805 4.67 4.697-1.197 1.891-2.79 3.498-4.67 4.697-2.362 1.507-5.090 2.303-7.889 2.303s-5.527-0.796-7.889-2.303c-1.88-1.199-3.473-2.805-4.67-4.697 1.197-1.891 2.79-3.498 4.67-4.697 0.122-0.078 0.246-0.154 0.371-0.228-0.311 0.854-0.482 1.776-0.482 2.737 0 4.418 3.582 8 8 8s8-3.582 8-8c0-0.962-0.17-1.883-0.482-2.737 0.124 0.074 0.248 0.15 0.371 0.228v0zM16 13c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z"></path>
                                    </svg>
                                </a>
                            </div>
                            <date class="date"><?php echo timeago($palette['created']);?></date>
                        </div>
                    </div>
                </div>
            <?php } ?>
        <?php } ?>
        </div>
         
        <!-- Search for other colors -->
        <div class="row">
            <div class="tiny center-tiny">
                <br><h2>Find another color or palette:</h2>
                <form action="/search" method="GET">
                    <input type="text" name="s" class="search" placeholder="e.g. red, midnight, wood, green, chill or rose">
                </form>
            </div>
        </div>
    </section>
    
</main>

<?php include("../_inc/footer.php"); ?>
<?php include("../_inc/scripts.php"); ?>
<!-- <script src="/assets/js/jscolor.min.js"></script> -->
<script src="/assets/js/jscolor.2.5.1.min.js"></script>
<script src="/assets/js/palette.min.js"></script>
<script src="/assets/js/social.js"></script>

<script>
window.addEventListener("DOMContentLoaded", (event) => {
<?php
if (isset($color1)) {
    echo '
      const picker1 = document.querySelector("#colorpick1");
      picker1.jscolor.fromString("'.$color1.'");
      update(picker1.jscolor,1);
    ';
}
if (isset($color2)) {
    echo '
      const picker2 = document.querySelector("#colorpick2");
      picker2.jscolor.fromString("'.$color2.'");
      update(picker2.jscolor,2);
    ';
}
if (isset($color3)) {
    echo '
      const picker3 = document.querySelector("#colorpick3");
      picker3.jscolor.fromString("'.$color3.'");
      update(picker3.jscolor,3);
    ';
}
if (isset($color4)) {
    echo '
    const picker4 = document.querySelector("#colorpick4");
      picker4.jscolor.fromString("'.$color4.'");
      update(picker4.jscolor,4);
    ';
}
?>
 });
</script>